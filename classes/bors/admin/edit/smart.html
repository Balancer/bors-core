{form action=$this->url() class=$object->class_name() id=$object->id() fields=$auto_fields}
<table class="btab w100p">
{foreach from=$fields key="title" item="x"}
{assign var="desc" value=$x.origin}
{assign var="ptype" value=$x.type}
{assign var="pargs" value=$x.args}
{explode vars="field_name,type" value=$desc}
{explode vars="type,arg" value=$type delim="="}
{explode vars="arg,args" value=$arg delim=":"}
<tr><th align="right" width="200">{$title}</th><td>
{if $type == ''}{input name=$field_name class="w100p"}{/if}
{if $type == 'input'}{input name=$field_name class="w100p" size=$arg}{/if}
{if $type == 'dropdown'}{dropdown name=$field_name list=$arg args=$args class="w100p"}{/if}
{if $type == 'checkbox'}{checkbox name=$field_name}{/if}
{if $type == 'textarea'}{textarea name=$field_name rows=$arg class="w100p"}{/if}
{if $type == 'image'}{bors_object_load class="bors_image" id=$object|get:$field_name var="img"}{$img|get:thumbnail:$arg|get:html_code}{/if}
{if $ptype == 'input_date'}{input_date name=$field_name can_drop=1 year_min=1900 time=$pargs.time}{/if}
</td></tr>
{/foreach}
<tr><th>&nbsp;</th><th>{submit value="Сохранить"}</th></tr>
</table>
{foreach from=$smarty.get item="v" key="k"}
{hidden name=$k value=$v}
{/foreach}
{go value=$referer}
{/form}
